const crypto = require("crypto");

// Datos a encriptar
const email = "correo@example.com";

// Clave de encriptación y IV
const encryptionKey = crypto.randomBytes(32);
const iv = crypto.randomBytes(16);

// Crear un objeto de cifrado
const cipher = crypto.createCipheriv("aes-256-cbc", encryptionKey, iv);

// Encriptar el correo electrónico
let encryptedEmail = cipher.update(email, "utf8", "hex");
encryptedEmail += cipher.final("hex");

console.log("Correo Electrónico Encriptado:", encryptedEmail);



const crypto = require("crypto");

// Datos recuperados de la base de datos
const encryptedEmail = "correo_encriptado";
const iv = "vector_inicializacion";

// Clave de encriptación
const encryptionKey = ...; // Debe ser la misma clave utilizada para encriptar

// Crear un objeto de descifrado
const decipher = crypto.createDecipheriv("aes-256-cbc", encryptionKey, iv);

// Descifrar el correo electrónico
let decryptedEmail = decipher.update(encryptedEmail, "hex", "utf8");
decryptedEmail += decipher.final("utf8");

console.log("Correo Electrónico Descifrado:", decryptedEmail);


